<% return unless @reward.present? %>

<h2><%= @reward.name %></h2>

<p>
  <strong>Status:</strong>
  <%= @reward.kind %>
</p>

<p>
  <strong>Created:</strong>
  <%= @reward.created_at %>
</p>

<h3>Description</h3>

<%= form_with model: @reward, method: :patch do |f| %>
  <%= f.text_area :description, rows: 4 %>
  <br><br>

  <% if @reward.kind == "redeemed" %>
    <%= f.hidden_field :kind, value: "completed" %>
    <%= f.submit "Mark Reward as Completed", class: "btn btn-success" %>
  <% else %>
    <%= f.submit "Save Notes", class: "btn btn-primary" %>
  <% end %>
<% end %>

<h3>Payload</h3>

<pre>
<%= JSON.pretty_generate(@reward.reward_payload || {}) %>
</pre>

<%= link_to "Back to Rewards", rewards_path %>
